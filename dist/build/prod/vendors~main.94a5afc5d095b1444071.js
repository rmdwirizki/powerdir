(window.webpackJsonp=window.webpackJsonp||[]).push([[3],[function(t,e,n){t.exports=n(10)},function(t){function e(t,e,n){for(var r,i;(r=n)&&(n=n.next);)(i=n.listener)&&(n.path&&i[n.path]?e?i[n.path].apply(i,e):i[n.path]():e?i.apply(n,e):i.call(n)),n.times&&0>=--n.times&&(r.next=n.next,n.listener=null)}var n={VERSION:"1.3.3",setTimeout:function(t,e){return setTimeout(function(){return e(),n.commit()},t)},setInterval:function(t,e){return setInterval(e,t)},clearInterval:function(t){return clearInterval(t)},clearTimeout:function(t){return clearTimeout(t)},subclass:function(t,e){for(let n in e){let r;r=e[n],e.hasOwnProperty(n)&&(t[n]=r)}return t.prototype=Object.create(e.prototype),t.__super__=t.prototype.__super__=e.prototype,t.prototype.initialize=t.prototype.constructor=t,t},iterable:function(t){return t?t.toArray?t.toArray():t:[]},await:function(t){return t instanceof Array?(console.warn("await (Array) is deprecated - use await Promise.all(Array)"),Promise.all(t)):t&&t.then?t:Promise.resolve(t)}},r=/-./g,i={};n.toCamelCase=function(t){return 0<=t.indexOf("-")?t.replace(r,function(t){return t.charAt(1).toUpperCase()}):t},n.toSetter=function(t){return i[t]||(i[t]=n.toCamelCase("set-"+t))},n.indexOf=function(t,e){return e&&e.indexOf?e.indexOf(t):[].indexOf.call(t,e)},n.len=function(t){return t&&(t.len instanceof Function?t.len.call(t):t.length)||0},n.prop=function(t,e,n){if(t.defineProperty)return t.defineProperty(e,n)},n.attr=function(t,e,r){if(void 0===r&&(r={}),t.defineAttribute)return t.defineAttribute(e,r);let i=n.toCamelCase(e),o=n.toCamelCase("set-"+e),s=t.prototype;r.dom?(s[i]=function(){return this.dom()[e]},s[o]=function(t){return t!=this[e]()&&(this.dom()[e]=t),this}):(s[i]=function(){return this.getAttribute(e)},s[o]=function(t){return this.setAttribute(e,t),this})},n.propDidSet=function(t,e,n,r){let i=e.watch;i instanceof Function?i.call(t,n,r,e):("string"==typeof i||i instanceof String)&&t[i]&&t[i](n,r,e)},n.listen=function(t,e,n,r){var i,o,s;return(s=(o=(i=t.__listeners__||(t.__listeners__={}))[e]||(i[e]={})).tail||(o.tail=o.next={})).listener=n,s.path=r,o.tail=s.next={},s},n.once=function(t,e,r){var i=n.listen(t,e,r);return i.times=1,i},n.unlisten=function(t,e,n){var r,i,o=t.__listeners__;if(o&&(r=o[e]))for(;(i=r)&&(r=r.next);)if(r==n||r.listener==n){i.next=r.next,r.listener=null;break}},n.emit=function(t,n,r){var i;(i=t.__listeners__)&&(i[n]&&e(0,r,i[n]),i.all&&e(0,[n,r],i.all))},n.observeProperty=function(t,e,r,i,o){return o&&"object"==typeof o&&n.unlisten(o,"all",t,r),i&&"object"==typeof i&&n.listen(i,"all",t,r),this},t.exports=n},,,,,function(t,e,n){var r=n(1);r.Pointer=function(){return this._button=-1,this._event={x:0,y:0,type:"uninitialized"},this},r.Pointer.prototype.button=function(){return this._button},r.Pointer.prototype.touch=function(){return this._touch},r.Pointer.prototype.update=function(t){return this._event=t,this._dirty=!0,this},r.Pointer.prototype.process=function(){var t=this._event;if(this._dirty)if(this._prevEvent=t,this._dirty=!1,"mousedown"==t.type){if(this._button=t.button,this._touch&&0!=this._button)return;this._touch&&this._touch.cancel(),this._touch=new r.Touch(t,this),this._touch.mousedown(t,t)}else"mousemove"==t.type?this._touch&&this._touch.mousemove(t,t):"mouseup"==t.type&&(this._button=-1,this._touch&&this._touch.button()==t.button&&(this._touch.mouseup(t,t),this._touch=null));else this._touch&&this._touch.idle();return this},r.Pointer.prototype.x=function(){return this._event.x},r.Pointer.prototype.y=function(){return this._event.y}},,,,function(t,e,n){var r=n(1),i=!1;"undefined"!=typeof window&&(window.Imba?(console.warn("Imba v"+window.Imba.VERSION+" is already loaded."),r=window.Imba):(window.Imba=r,i=!0,window.define&&window.define.amd&&window.define("imba",[],function(){return r}))),t.exports=r,n(11),n(12),i&&r.EventManager.activate()},function(t,e,n){function r(){var t=this;t._queue=[],t._stage=-1,t._scheduled=!1,t._ticker=function(e){return t._scheduled=!1,t.tick(e)}}var i,o,s=n(1);o=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitRequestAnimationFrame,(i=window.requestAnimationFrame)||(i=window.webkitRequestAnimationFrame),i||(i=window.mozRequestAnimationFrame),i||(i=function(t){return setTimeout(t,1e3/60)}),r.prototype.stage=function(){return this._stage},r.prototype.setStage=function(t){return this._stage=t,this},r.prototype.queue=function(){return this._queue},r.prototype.setQueue=function(t){return this._queue=t,this},r.prototype.add=function(t,e){if((e||-1==this._queue.indexOf(t))&&this._queue.push(t),!this._scheduled)return this.schedule()},r.prototype.tick=function(t){var e=this._queue;if(this._ts||(this._ts=t),this._dt=t-this._ts,this._ts=t,this._queue=[],this._stage=1,this.before(),e.length)for(let t,n=0,r=function(t){return t?t.toArray?t.toArray():t:[]}(e),i=r.length;n<i;n++)(t=r[n])instanceof Function?t(this._dt,this):t.tick&&t.tick(this._dt,this);return this._stage=2,this.after(),this._stage=this._scheduled?0:-1,this},r.prototype.schedule=function(){return this._scheduled||(this._scheduled=!0,-1==this._stage&&(this._stage=0),i(this._ticker)),this},r.prototype.before=function(){return this},r.prototype.after=function(){return s.TagManager&&s.TagManager.refresh(),this},s.TICKER=new r,s.SCHEDULERS=[],s.ticker=function(){return s.TICKER},s.requestAnimationFrame=function(t){return i(t)},s.cancelAnimationFrame=function(t){return o(t)};var a=0;s.commit=function(t){return a++,s.emit(s,"commit",void 0==t?void 0:[t]),void(0==--a&&s.TagManager&&s.TagManager.refresh())},s.Scheduler=function(t){var e=this;e._id=u++,e._target=t,e._marked=!1,e._active=!1,e._marker=function(){return e.mark()},e._ticker=function(t){return e.tick(t)},e._dt=0,e._frame={},e._scheduled=!1,e._timestamp=0,e._ticks=0,e._flushes=0,e.onevent=e.onevent.bind(e)};var u=0;s.Scheduler.event=function(t){return s.emit(s,"event",t)},s.Scheduler.prototype.__raf={watch:"rafDidSet",name:"raf"},s.Scheduler.prototype.raf=function(){return this._raf},s.Scheduler.prototype.setRaf=function(t){var e=this.raf();return t!=e&&(this._raf=t),t!=e&&this.rafDidSet&&this.rafDidSet(t,e,this.__raf),this},s.Scheduler.prototype.__interval={watch:"intervalDidSet",name:"interval"},s.Scheduler.prototype.interval=function(){return this._interval},s.Scheduler.prototype.setInterval=function(t){var e=this.interval();return t!=e&&(this._interval=t),t!=e&&this.intervalDidSet&&this.intervalDidSet(t,e,this.__interval),this},s.Scheduler.prototype.__events={watch:"eventsDidSet",name:"events"},s.Scheduler.prototype.events=function(){return this._events},s.Scheduler.prototype.setEvents=function(t){var e=this.events();return t!=e&&(this._events=t),t!=e&&this.eventsDidSet&&this.eventsDidSet(t,e,this.__events),this},s.Scheduler.prototype.marked=function(){return this._marked},s.Scheduler.prototype.setMarked=function(t){return this._marked=t,this},s.Scheduler.prototype.rafDidSet=function(t){return t&&this._active&&this.requestTick(),this},s.Scheduler.prototype.intervalDidSet=function(t){return clearInterval(this._intervalId),this._intervalId=null,t&&this._active&&(this._intervalId=setInterval(this.oninterval.bind(this),t)),this},s.Scheduler.prototype.eventsDidSet=function(t,e){return this._active&&t&&!e?s.listen(s,"commit",this,"onevent"):!t&&e?s.unlisten(s,"commit",this,"onevent"):void 0},s.Scheduler.prototype.active=function(){return this._active},s.Scheduler.prototype.dt=function(){return this._dt},s.Scheduler.prototype.configure=function(t){return void 0===t&&(t={}),void 0!=t.raf&&this.setRaf(t.raf),void 0!=t.interval&&this.setInterval(t.interval),void 0!=t.events&&this.setEvents(t.events),this},s.Scheduler.prototype.mark=function(){return this._marked=!0,this._scheduled||this.requestTick(),this},s.Scheduler.prototype.flush=function(){return this._flushes++,this._target.tick(this),this._marked=!1,this},s.Scheduler.prototype.tick=function(t,e){return this._ticks++,this._dt=t,e&&(this._scheduled=!1),this.flush(),this._raf&&this._active&&this.requestTick(),this},s.Scheduler.prototype.requestTick=function(){return this._scheduled||(this._scheduled=!0,s.TICKER.add(this)),this},s.Scheduler.prototype.activate=function(t){return void 0===t&&(t=!0),this._active||(this._active=!0,this._commit=this._target.commit,this._target.commit=function(){return this},this._target&&this._target.flag&&this._target.flag("scheduled_"),s.SCHEDULERS.push(this),this._events&&s.listen(s,"commit",this,"onevent"),this._interval&&!this._intervalId&&(this._intervalId=setInterval(this.oninterval.bind(this),this._interval)),t?this.tick(0):this._raf&&this.requestTick()),this},s.Scheduler.prototype.deactivate=function(){if(this._active){this._active=!1,this._target.commit=this._commit;let t=s.SCHEDULERS.indexOf(this);0<=t&&s.SCHEDULERS.splice(t,1),this._events&&s.unlisten(s,"commit",this,"onevent"),this._intervalId&&(clearInterval(this._intervalId),this._intervalId=null),this._target&&this._target.unflag&&this._target.unflag("scheduled_")}return this},s.Scheduler.prototype.track=function(){return this._marker},s.Scheduler.prototype.oninterval=function(){return this.tick(),s.TagManager.refresh(),this},s.Scheduler.prototype.onevent=function(t){return!this._events||this._marked?this:(this._events instanceof Function?this._events(t,this)&&this.mark():this._events instanceof Array?0<=this._events.indexOf(t&&t.type||t)&&this.mark():this.mark(),this)}},function(t,e,n){var r=n(1);n(13),n(14),r.TagManager=new r.TagManagerClass,n(15),n(16),n(6),n(17),n(18),n(19)},function(t,e,n){function r(t){return t?t.toArray?t.toArray():t:[]}var i=n(1);i.TagManagerClass=function(){this._inserts=0,this._removes=0,this._mounted=[],this._mountables=0,this._unmountables=0},i.TagManagerClass.prototype.mounted=function(){return this._mounted},i.TagManagerClass.prototype.insert=function(t){this._inserts++,t&&t.mount&&(t.FLAGS&i.TAG_MOUNTABLE||(t.FLAGS|=i.TAG_MOUNTABLE,this._mountables++))},i.TagManagerClass.prototype.remove=function(){return this._removes++},i.TagManagerClass.prototype.changes=function(){return this._inserts+this._removes},i.TagManagerClass.prototype.mount=function(){},i.TagManagerClass.prototype.refresh=function(t){if(void 0===t&&(t=!1),t||0!=this.changes())return(this._inserts&&this._mountables>this._mounted.length||t)&&this.tryMount(),(this._removes||t)&&this._mounted.length&&this.tryUnmount(),this._inserts=0,this._removes=0,this},i.TagManagerClass.prototype.unmount=function(){return this},i.TagManagerClass.prototype.tryMount=function(){for(let t,e=0,n=r(document.body.querySelectorAll(".__mount")),i=n.length;e<i;e++)(t=n[e])&&t._tag&&-1==this._mounted.indexOf(t._tag)&&this.mountNode(t._tag);return this},i.TagManagerClass.prototype.mountNode=function(t){if(-1==this._mounted.indexOf(t)){this._mounted.push(t),t.FLAGS|=i.TAG_MOUNTED,t.mount&&t.mount();for(let e=t.dom().parentNode;e&&e._tag&&!e._tag.mount&&!(e._tag.FLAGS&i.TAG_MOUNTABLE);)e._tag.FLAGS|=i.TAG_MOUNTABLE,e=e.parentNode}},i.TagManagerClass.prototype.tryUnmount=function(){var t=0;document.body;for(let e,n=0,o=r(this._mounted),s=o.length;n<s;n++)e=o[n],document.documentElement.contains(e._dom)||(e.FLAGS&=~i.TAG_MOUNTED,e.unmount&&e._dom?e.unmount():e._scheduler&&e.unschedule(),this._mounted[n]=null,t++);return t&&(this._mounted=this._mounted.filter(function(t){return t})),this}},function(t,e,n){function r(t){return t?t.toArray?t.toArray():t:[]}var i=n(1);n(6);var o=["keydown","keyup","keypress","textInput","input","change","submit","focusin","focusout","focus","blur","contextmenu","selectstart","dblclick","mousewheel","wheel","scroll","beforecopy","copy","beforepaste","paste","beforecut","cut","dragstart","drag","dragend","dragenter","dragover","dragleave","dragexit","drop","mouseup","mousedown","mouseenter","mouseleave","mouseout","mouseover","mousemove"];i.EventManager=function(t,e){var n=this;e&&e.constructor===Object||(e={});var i=void 0===e.events?[]:e.events;n._shimFocusEvents=window.netscape&&void 0===t.onfocusin,n.setRoot(t),n.setListeners([]),n.setDelegators({}),n.setDelegator(function(t){return n.delegate(t),!0});for(let t=0,e=r(i),o=e.length;t<o;t++)n.register(e[t]);return n},i.EventManager.prototype.root=function(){return this._root},i.EventManager.prototype.setRoot=function(t){return this._root=t,this},i.EventManager.prototype.count=function(){return this._count},i.EventManager.prototype.setCount=function(t){return this._count=t,this},i.EventManager.prototype.__enabled={default:!1,watch:"enabledDidSet",name:"enabled"},i.EventManager.prototype.enabled=function(){return this._enabled},i.EventManager.prototype.setEnabled=function(t){var e=this.enabled();return t!=e&&(this._enabled=t),t!=e&&this.enabledDidSet&&this.enabledDidSet(t,e,this.__enabled),this},i.EventManager.prototype._enabled=!1,i.EventManager.prototype.listeners=function(){return this._listeners},i.EventManager.prototype.setListeners=function(t){return this._listeners=t,this},i.EventManager.prototype.delegators=function(){return this._delegators},i.EventManager.prototype.setDelegators=function(t){return this._delegators=t,this},i.EventManager.prototype.delegator=function(){return this._delegator},i.EventManager.prototype.setDelegator=function(t){return this._delegator=t,this};var s=[];i.EventManager.prototype.enabledDidSet=function(t){return t?this.onenable():this.ondisable(),this},i.EventManager.bind=function(t){return i.Events?i.Events.autoregister(t):-1==s.indexOf(t)&&0<=o.indexOf(t)?s.push(t):void 0},i.EventManager.activate=function(){return i.Events?i.Events:(i.POINTER||(i.POINTER=new i.Pointer),i.Events=new i.EventManager(i.document(),{events:[]}),window&&void 0!==window.ontouchstart&&(i.Events.listen("touchstart",function(t){return i.Touch.ontouchstart(t)}),i.Events.listen("touchmove",function(t){return i.Touch.ontouchmove(t)}),i.Events.listen("touchend",function(t){return i.Touch.ontouchend(t)}),i.Events.listen("touchcancel",function(t){return i.Touch.ontouchcancel(t)})),i.Events.register("click",function(t){if(t.timeStamp-i.Touch.LastTimestamp>i.Touch.TapTimeout){t._imbaSimulatedTap=!0;var e=new i.Event(t);if(e.setType("tap"),e.process(),e._responder)return t.preventDefault()}return i.Events.delegate(t)}),i.Events.listen("mousedown",function(t){if(t.timeStamp-i.Touch.LastTimestamp>i.Touch.TapTimeout&&i.POINTER)return i.POINTER.update(t).process()}),i.Events.listen("mouseup",function(t){if(t.timeStamp-i.Touch.LastTimestamp>i.Touch.TapTimeout&&i.POINTER)return i.POINTER.update(t).process()}),i.Events.register(["mousedown","mouseup"]),i.Events.register(s),i.Events.setEnabled(!0),i.Events)},i.EventManager.prototype.register=function(t,e){if(void 0===e&&(e=!0),t instanceof Array){for(let n=0,i=r(t),o=i.length;n<o;n++)this.register(i[n],e);return this}if(this.delegators()[t])return this;var n=this.delegators()[t]=e instanceof Function?e:this.delegator();return this.enabled()?this.root().addEventListener(t,n,!0):void 0},i.EventManager.prototype.autoregister=function(t){return-1==o.indexOf(t)?this:this.register(t)},i.EventManager.prototype.listen=function(t,e,n){return void 0===n&&(n=!0),this.listeners().push([t,e,n]),this.enabled()&&this.root().addEventListener(t,e,n),this},i.EventManager.prototype.delegate=function(t){return i.Event.wrap(t).process(),this._shimFocusEvents&&("focus"==t.type?i.Event.wrap(t).setType("focusin").process():"blur"==t.type&&i.Event.wrap(t).setType("focusout").process()),this},i.EventManager.prototype.create=function(t,e,n){n&&n.constructor===Object||(n={});var r=void 0===n.data?null:n.data,o=void 0===n.source?null:n.source,s=i.Event.wrap({type:t,target:e});return r&&s.setData(r),o&&s.setSource(o),s},i.EventManager.prototype.trigger=function(){return this.create.apply(this,arguments).process()},i.EventManager.prototype.onenable=function(){for(let t,e,n=this.delegators(),r=0,i=Object.keys(n),o=i.length;r<o;r++)t=n[e=i[r]],this.root().addEventListener(e,t,!0);for(let t,e=0,n=r(this.listeners()),i=n.length;e<i;e++)t=n[e],this.root().addEventListener(t[0],t[1],t[2]);return window.addEventListener("hashchange",i.commit),window.addEventListener("popstate",i.commit),this},i.EventManager.prototype.ondisable=function(){for(let t,e,n=this.delegators(),r=0,i=Object.keys(n),o=i.length;r<o;r++)t=n[e=i[r]],this.root().removeEventListener(e,t,!0);for(let t,e=0,n=r(this.listeners()),i=n.length;e<i;e++)t=n[e],this.root().removeEventListener(t[0],t[1],t[2]);return window.removeEventListener("hashchange",i.commit),window.removeEventListener("popstate",i.commit),this}},function(t,e,n){function r(t){return t?t.toArray?t.toArray():t:[]}function i(t){this._tag=t}function o(t,e,n){this.cache$=t,this.key$=e,this.par$=n,this.i$=0}var s=n(1);s.CSSKeyMap={},s.TAG_BUILT=1,s.TAG_SETUP=2,s.TAG_MOUNTING=4,s.TAG_MOUNTED=8,s.TAG_SCHEDULED=16,s.TAG_AWAKENED=32,s.TAG_MOUNTABLE=64,s.document=function(){return window.document},s.root=function(){return s.getTagForDom(s.document().body)},s.static=function(t,e,n){return t._type=e,t.static=n,t},s.mount=function(t,e){return e||(e=s.document().body),e.appendChild(t.dom()),s.TagManager.insert(t,e),t.scheduler().configure({events:!0}).activate(!1),s.TagManager.refresh(),t},s.createTextNode=function(t){return t&&3==t.nodeType?t:s.document().createTextNode(t)},s.Tag=function(t,e){this.setDom(t),this.$=i.build(this),this.$up=this._owner_=e,this._tree_=null,this.FLAGS=0,this.build()},s.Tag.buildNode=function(){var t=s.document().createElement(this._nodeType||"div");if(this._classes){var e=this._classes.join(" ");e&&(t.className=e)}return t},s.Tag.createNode=function(){return(this._protoDom||(this._protoDom=this.buildNode())).cloneNode(!1)},s.Tag.build=function(t){return new this(this.createNode(),t)},s.Tag.dom=function(){return this._protoDom||(this._protoDom=this.buildNode())},s.Tag.end=function(){return this.commit(0)},s.Tag.inherit=function(t){return t._protoDom=null,this._nodeType?(t._nodeType=this._nodeType,t._classes=this._classes.slice(),t._flagName?t._classes.push(t._flagName):void 0):(t._nodeType=t._name,t._flagName=null,t._classes=[])},s.Tag.prototype.optimizeTagStructure=function(){var t=this.constructor;let e=Object.keys(this);0<=e.indexOf("mount")&&(t._classes&&-1==t._classes.indexOf("__mount")&&t._classes.push("__mount"),t._protoDom&&t._protoDom.classList.add("__mount"));for(let t,n=0,i=r(e),o=i.length;n<o;n++)t=i[n],/^on/.test(t)&&s.EventManager.bind(t.slice(2));return this},s.attr(s.Tag,"name"),s.attr(s.Tag,"role"),s.attr(s.Tag,"tabindex"),s.Tag.prototype.title=function(){return this.getAttribute("title")},s.Tag.prototype.setTitle=function(t){return this.setAttribute("title",t),this},s.Tag.prototype.dom=function(){return this._dom},s.Tag.prototype.setDom=function(t){return t._tag=this,this._dom=this._slot_=t,this},s.Tag.prototype.ref=function(){return this._ref},s.Tag.prototype.root=function(){return this._owner_?this._owner_.root():this},s.Tag.prototype.ref_=function(t){return this.flag(this._ref=t),this},s.Tag.prototype.setData=function(t){return this._data=t,this},s.Tag.prototype.data=function(){return this._data},s.Tag.prototype.bindData=function(t,e,n){return this.setData(n?t[e].apply(t,n):t[e])},s.Tag.prototype.setHtml=function(t){return this.html()!=t&&(this._dom.innerHTML=t),this},s.Tag.prototype.html=function(){return this._dom.innerHTML},s.Tag.prototype.on$=function(t,e,n){let r=this._on_||(this._on_=[]),i=r[t];return 0>t&&(t=void 0==i?r[t]=r.length:i,i=r[t]),r[t]=e,i?e.state=i.state:(e.state={context:n},s.EventManager.bind(e[0])),this},s.Tag.prototype.setId=function(t){return null!=t&&(this.dom().id=t),this},s.Tag.prototype.id=function(){return this.dom().id},s.Tag.prototype.setAttribute=function(t,e){return this.dom().getAttribute(t)==e||(null!=e&&!1!==e?this.dom().setAttribute(t,e):this.dom().removeAttribute(t)),this},s.Tag.prototype.setNestedAttr=function(t,e,n){return this[t+"SetAttribute"]?this[t+"SetAttribute"](e,n):this.setAttributeNS(t,e,n),this},s.Tag.prototype.setAttributeNS=function(t,e,n){return this.getAttributeNS(t,e)!=n&&(null!=n&&!1!==n?this.dom().setAttributeNS(t,e,n):this.dom().removeAttributeNS(t,e)),this},s.Tag.prototype.removeAttribute=function(t){return this.dom().removeAttribute(t)},s.Tag.prototype.getAttribute=function(t){return this.dom().getAttribute(t)},s.Tag.prototype.getAttributeNS=function(t,e){return this.dom().getAttributeNS(t,e)},s.Tag.prototype.set=function(t,e,n){let r=s.toSetter(t);return this[r]instanceof Function?this[r](e,n):this._dom.setAttribute(t,e),this},s.Tag.prototype.get=function(t){return this._dom.getAttribute(t)},s.Tag.prototype.setContent=function(t,e){return this.setChildren(t,e),this},s.Tag.prototype.setChildren=function(t){return this._tree_=t,this},s.Tag.prototype.setTemplate=function(t){return this._template||this.render==s.Tag.prototype.render&&(this.render=this.renderTemplate),this.template=this._template=t,this},s.Tag.prototype.template=function(){return null},s.Tag.prototype.renderTemplate=function(){var t=this.template();return t!=this&&this.setChildren(t),this},s.Tag.prototype.removeChild=function(t){var e=this.dom(),n=t._slot_||t;return n&&n.parentNode==e&&(s.TagManager.remove(n._tag||n,this),e.removeChild(n)),this},s.Tag.prototype.removeAllChildren=function(){if(this._dom.firstChild)for(var t;t=this._dom.firstChild;)s.TagManager.remove(t._tag||t,this),this._dom.removeChild(t);return this._tree_=this._text_=null,this},s.Tag.prototype.appendChild=function(t){return"string"==typeof t||t instanceof String?this.dom().appendChild(s.document().createTextNode(t)):t&&(this.dom().appendChild(t._slot_||t),s.TagManager.insert(t._tag||t,this)),this},s.Tag.prototype.insertBefore=function(t,e){return("string"==typeof t||t instanceof String)&&(t=s.document().createTextNode(t)),t&&e&&(this.dom().insertBefore(t._slot_||t,e._slot_||e),s.TagManager.insert(t._tag||t,this)),this},s.Tag.prototype.detachFromParent=function(){return this._slot_==this._dom&&(this._slot_=this._dom._placeholder_||(this._dom._placeholder_=s.document().createComment("node")),this._slot_._tag||(this._slot_._tag=this),this._dom.parentNode&&(s.TagManager.remove(this,this._dom.parentNode),this._dom.parentNode.replaceChild(this._slot_,this._dom))),this},s.Tag.prototype.attachToParent=function(){if(this._slot_!=this._dom){let t=this._slot_;this._slot_=this._dom,t&&t.parentNode&&(s.TagManager.insert(this),t.parentNode.replaceChild(this._dom,t))}return this},s.Tag.prototype.orphanize=function(){var t;return(t=this.parent())&&t.removeChild(this),this},s.Tag.prototype.text=function(){return this._dom.textContent},s.Tag.prototype.setText=function(t){return this._tree_=t,this._dom.textContent=null==t||!1===this.text()?"":t,this},s.Tag.prototype.dataset=function(t,e){if(t instanceof Object){for(let e,n,r=0,i=Object.keys(t),o=i.length;r<o;r++)e=t[n=i[r]],this.dataset(n,e);return this}if(2==arguments.length)return this.setAttribute("data-"+t,e),this;if(t)return this.getAttribute("data-"+t);var n=this.dom().dataset;if(!n){n={};for(let t,e=0,i=r(this.dom().attributes),o=i.length;e<o;e++)"data-"==(t=i[e]).name.substr(0,5)&&(n[s.toCamelCase(t.name.slice(5))]=t.value)}return n},s.Tag.prototype.render=function(){return this},s.Tag.prototype.build=function(){return this},s.Tag.prototype.setup=function(){return this},s.Tag.prototype.commit=function(){return!1!==this.beforeRender()&&this.render(),this},s.Tag.prototype.beforeRender=function(){return this},s.Tag.prototype.tick=function(){return!1!==this.beforeRender()&&this.render(),this},s.Tag.prototype.end=function(){return this.setup(),this.commit(0),this.end=s.Tag.end,this},s.Tag.prototype.$open=function(t){return t!=this._context_&&(this._tree_=null,this._context_=t),this},s.Tag.prototype.synced=function(){return this},s.Tag.prototype.awaken=function(){return this},s.Tag.prototype.flags=function(){return this._dom.classList},s.Tag.prototype.flag=function(t,e){return 2==arguments.length?this._dom.classList.contains(t)!=!!e&&this._dom.classList.toggle(t):this._dom.classList.contains(t)||this._dom.classList.add(t),this},s.Tag.prototype.unflag=function(t){return this._dom.classList.remove(t),this},s.Tag.prototype.toggleFlag=function(t){return this._dom.classList.toggle(t),this},s.Tag.prototype.hasFlag=function(t){return this._dom.classList.contains(t)},s.Tag.prototype.flagIf=function(t,e){var n=this._flags_||(this._flags_={});let r=n[t];return e&&!r?(this._dom.classList.add(t),n[t]=!0):r&&!e&&(this._dom.classList.remove(t),n[t]=!1),this},s.Tag.prototype.setFlag=function(t,e){let n=this._namedFlags_||(this._namedFlags_={}),r=n[t];return r!=e&&(r&&this.unflag(r),e&&this.flag(e),n[t]=e),this},s.Tag.prototype.scheduler=function(){return null==this._scheduler?this._scheduler=new s.Scheduler(this):this._scheduler},s.Tag.prototype.schedule=function(t){return void 0===t&&(t={events:!0}),this.scheduler().configure(t).activate(),this},s.Tag.prototype.unschedule=function(){return this._scheduler&&this.scheduler().deactivate(),this},s.Tag.prototype.parent=function(){return s.getTagForDom(this.dom().parentNode)},s.Tag.prototype.children=function(){let t=[];for(let e,n=0,i=r(this._dom.children),o=i.length;n<o;n++)e=i[n],t.push(e._tag||s.getTagForDom(e));return t},s.Tag.prototype.querySelector=function(t){return s.getTagForDom(this._dom.querySelector(t))},s.Tag.prototype.querySelectorAll=function(t){var e=[];for(let n=0,i=r(this._dom.querySelectorAll(t)),o=i.length;n<o;n++)e.push(s.getTagForDom(i[n]));return e},s.Tag.prototype.matches=function(t){var e;return t instanceof Function?t(this):(t.query instanceof Function&&(t=t.query()),(e=this._dom.matches||this._dom.matchesSelector||this._dom.webkitMatchesSelector||this._dom.msMatchesSelector||this._dom.mozMatchesSelector)?e.call(this._dom,t):void 0)},s.Tag.prototype.closest=function(t){return s.getTagForDom(this._dom.closest(t))},s.Tag.prototype.contains=function(t){return this.dom().contains(t._dom||t)},s.Tag.prototype.log=function(){for(var t=arguments,e=t.length,n=Array(0<e?e:0);0<e;)n[e-1]=t[--e];return n.unshift(console),Function.prototype.call.apply(console.log,n),this},s.Tag.prototype.css=function(t,e){if(t instanceof Object){for(let e,n,r=0,i=Object.keys(t),o=i.length;r<o;r++)e=t[n=i[r]],this.css(n,e);return this}var n=s.CSSKeyMap[t]||t;if(null==e)this.dom().style.removeProperty(n);else{if(void 0==e&&1==arguments.length)return this.dom().style[n];this.dom().style[n]=("number"==typeof e||e instanceof Number)&&n.match(/width|height|left|right|top|bottom/)?e+"px":e}return this},s.Tag.prototype.setStyle=function(t){return this.setAttribute("style",t)},s.Tag.prototype.style=function(){return this.getAttribute("style")},s.Tag.prototype.trigger=function(t,e){return void 0===e&&(e={}),s.Events.trigger(t,this,{data:e})},s.Tag.prototype.focus=function(){return this.dom().focus(),this},s.Tag.prototype.blur=function(){return this.dom().blur(),this},s.Tag.prototype.toString=function(){return this.dom().outerHTML},s.Tag.prototype.initialize=s.Tag,s.SVGTag=function(){return s.Tag.apply(this,arguments)},s.subclass(s.SVGTag,s.Tag),s.SVGTag.namespaceURI=function(){return"http://www.w3.org/2000/svg"},s.SVGTag.buildNode=function(){var t=s.document().createElementNS(this.namespaceURI(),this._nodeType);if(this._classes){var e=this._classes.join(" ");e&&(t.className.baseVal=e)}return t},s.SVGTag.inherit=function(t){if(t._protoDom=null,0<=s.indexOf(t._name,s.SVG_TAGS)||this==s.SVGTag)return t._nodeType=t._name,t._classes=[];t._nodeType=this._nodeType;var e="_"+t._name.replace(/_/g,"-");return t._classes=(this._classes||[]).concat(e)},s.HTML_TAGS=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"],s.HTML_TAGS_UNSAFE=["article","aside","header","section"],s.SVG_TAGS=["circle","defs","ellipse","g","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan","image"],s.HTML_ATTRS={a:"href target hreflang media download rel type",form:"method action enctype autocomplete target",button:"autofocus type",input:"accept disabled form list max maxlength min pattern required size step type",label:"accesskey for form",img:"src srcset",link:"rel type href media",iframe:"referrerpolicy src srcdoc sandbox",meta:"property content charset desc",optgroup:"label",option:"label",output:"for form",object:"type data width height",param:"name value",progress:"max",script:"src type async defer crossorigin integrity nonce language",select:"size form multiple",textarea:"rows cols"},s.HTML_PROPS={input:"autofocus autocomplete autocorrect value placeholder required disabled multiple checked readOnly",textarea:"autofocus autocomplete autocorrect value placeholder required disabled multiple checked readOnly",form:"novalidate",fieldset:"disabled",button:"disabled",select:"autofocus disabled required",option:"disabled selected value",optgroup:"disabled",progress:"value",fieldset:"disabled",canvas:"width height"},s.Tags=function(){},s.Tags.prototype.__clone=function(){var t=Object.create(this);return t._parent=this,t},s.Tags.prototype.ns=function(t){return this["_"+t.toUpperCase()]||this.defineNamespace(t)},s.Tags.prototype.defineNamespace=function(t){var e=Object.create(this);return e._parent=this,e._ns=t,this["_"+t.toUpperCase()]=e,e},s.Tags.prototype.baseType=function(t){return 0<=s.indexOf(t,s.HTML_TAGS)?"element":"div"},s.Tags.prototype.defineTag=function(t,e,n){void 0==n&&"function"==typeof e&&(n=e,e=""),void 0==e&&(e=""),n&&n._nodeType&&(e=n,n=null),this[t]&&console.log("tag already exists?",t);var r,i=t;let o=i.indexOf(":");0<=o&&(r=t.substr(0,o),i=t.substr(o+1),"svg"!=r||e||(e="svg:element")),e||(e=this.baseType(t));let a="string"==typeof e||e instanceof String?this.findTagType(e):e,u=function(t,e){return this.initialize(t,e),this};return u._name=i,u._flagName=null,"#"==i[0]?(s.SINGLETONS[i.slice(1)]=u,this[i]=u):i[0]==i[0].toUpperCase()?u._flagName=i:(u._flagName="_"+t.replace(/[_\:]/g,"-"),this[t]=u),function(t,e){for(let n,r,i=0,o=Object.keys(e),s=o.length;i<s;i++)n=e[r=o[i]],null==t[r]?t[r]=n:t[r];t.prototype=Object.create(e.prototype),t.__super__=t.prototype.__super__=e.prototype,t.prototype.constructor=t,e.inherit&&e.inherit(t)}(u,a),n&&(n.call(u,u,u.TAGS||this),u.defined&&u.defined(),this.optimizeTag(u)),u},s.Tags.prototype.defineSingleton=function(t,e,n){return this.defineTag(t,e,n)},s.Tags.prototype.extendTag=function(t,e,n){void 0==n&&"function"==typeof e&&(n=e,e=""),void 0==e&&(e="");var r="string"==typeof t||t instanceof String?this.findTagType(t):t;return n&&n&&n.call(r,r,r.prototype),r.extended&&r.extended(),this.optimizeTag(r),r},s.Tags.prototype.optimizeTag=function(t){var e;return(e=t.prototype)&&e.optimizeTagStructure&&e.optimizeTagStructure()},s.Tags.prototype.findTagType=function(t){var e,n;let i=this[t];if(!i)if("svg:"==t.substr(0,4))i=this.defineTag(t,"svg:element");else if(0<=s.HTML_TAGS.indexOf(t)){if(i=this.defineTag(t,"element"),e=s.HTML_ATTRS[t])for(let t=0,n=r(e.split(" ")),o=n.length;t<o;t++)s.attr(i,n[t]);if(n=s.HTML_PROPS[t])for(let t=0,e=r(n.split(" ")),o=e.length;t<o;t++)s.attr(i,e[t],{dom:!0})}return i},s.Tags.prototype.createElement=function(t,e){return(t instanceof Function?t:this.findTagType(t)).build(e)},s.createElement=function(t,e,n,r){var i,a=t;a=t instanceof Function?t:s.TAGS.findTagType(t),i=e instanceof o?e.par$:r instanceof s.Tag?r:e&&void 0!=r?e[r]:e&&e._tag||e;var u=a.build(i);return e instanceof o&&(e.i$++,u.$key=n),e&&void 0!=n&&(e[n]=u),u},s.createTagCache=function(t){var e=[];return e._tag=t,e},s.createTagMap=function(t,e,n){var r=new o(t,e,void 0==n?t._tag:n);return t[e]=r,r},s.createTagList=function(t,e,n){var r=[];return r._type=4,r._tag=void 0==n?t._tag:n,t[e]=r,r},s.createTagLoopResult=function(){var t=[];return t._type=5,t.cache={i$:0},t},i.build=function(t){var e=[];return e._tag=t,e},o.prototype.$iter=function(){var t=[];return t._type=5,t.cache=this,t},o.prototype.$prune=function(t){let e=this.cache$,n=this.key$,i=new o(e,n,this.par$);for(let e,n=0,o=r(t),s=o.length;n<s;n++)i[(e=o[n]).key$]=e;return i.i$=t.length,e[n]=i},s.TagMap=o,s.TagCache=i,s.SINGLETONS={},s.TAGS=new s.Tags,s.TAGS.element=s.TAGS.htmlelement=s.Tag,s.TAGS["svg:element"]=s.SVGTag,s.defineTag=function(t,e,n){return void 0==n&&"function"==typeof e&&(n=e,e=""),void 0==e&&(e=""),s.TAGS.defineTag(t,e,n)},s.defineSingletonTag=function(t,e,n){return void 0==n&&"function"==typeof e&&(n=e,e="div"),void 0==e&&(e="div"),s.TAGS.defineTag(this.name(),e,n)},s.extendTag=function(t,e){return s.TAGS.extendTag(t,e)},s.getTagSingleton=function(t){var e,n,r;return(e=s.SINGLETONS[t])?e&&e.Instance?e.Instance:(n=s.document().getElementById(t))?((r=e.Instance=new e(n)).awaken(n),r):((n=e.createNode()).id=t,(r=e.Instance=new e(n)).end().awaken(n),r):(n=s.document().getElementById(t))?s.getTagForDom(n):void 0};var a="undefined"!=typeof SVGElement;s.getTagForDom=function(t){if(!t)return null;if(t._dom)return t;if(t._tag)return t._tag;if(!t.nodeName)return null;var e=t.nodeName.toLowerCase(),n=s.TAGS;return t.id&&s.SINGLETONS[t.id]?s.getTagSingleton(t.id):new(a&&t instanceof SVGElement?n.findTagType("svg:"+e):0<=s.HTML_TAGS.indexOf(e)?n.findTagType(e):s.Tag)(t,null).awaken(t)},s.generateCSSPrefixes=function(){var t=window.getComputedStyle(document.documentElement,"");for(let i,o=0,a=r(t),u=a.length;o<u;o++){var e=(i=a[o]).replace(/^-(webkit|ms|moz|o|blink)-/,""),n=e.replace(/-(\w)/g,function(t,e){return e.toUpperCase()});i!=e&&t.hasOwnProperty(e)||(s.CSSKeyMap[e]=s.CSSKeyMap[n]=i)}},document&&s.generateCSSPrefixes(),document&&!document.documentElement.classList&&s.extendTag("element",function(t){t.prototype.hasFlag=function(t){return new RegExp("(^|\\s)"+t+"(\\s|$)").test(this._dom.className)},t.prototype.addFlag=function(t){return this.hasFlag(t)?this:(this._dom.className+=(this._dom.className?" ":"")+t,this)},t.prototype.unflag=function(t){if(!this.hasFlag(t))return this;var e=new RegExp("(^|\\s)*"+t+"(\\s|$)*","g");return this._dom.className=this._dom.className.replace(e,""),this},t.prototype.toggleFlag=function(t){return this.hasFlag(t)?this.unflag(t):this.flag(t)},t.prototype.flag=function(t,e){return 2==arguments.length&&0==!!e?this.unflag(t):this.addFlag(t)}}),s.Tag},function(t,e,n){function r(t){return t?t.toArray?t.toArray():t:[]}function i(t,e,n){this._node=t,this._path=e,this._args=n,this._args&&(this._setter=o.toSetter(this._path))}var o=n(1);o.defineTag("fragment","element",function(t){t.createNode=function(){return o.document().createDocumentFragment()}}),o.extendTag("html",function(t){t.prototype.parent=function(){return null}}),o.extendTag("canvas",function(t){t.prototype.context=function(t){return void 0===t&&(t="2d"),this.dom().getContext(t)}}),i.bind=function(t,e,n,r){return(t._data||(t._data=new this(t,n,r))).bind(e,n,r),t},i.prototype.bind=function(t){return t!=this._data&&(this._data=t),this},i.prototype.getFormValue=function(){return this._setter?this._data[this._path]():this._data[this._path]},i.prototype.setFormValue=function(t){return this._setter?this._data[this._setter](t):this._data[this._path]=t};var s=function(t){return t&&t.splice&&t.sort};o.extendTag("input",function(t){t.prototype.lazy=function(){return this._lazy},t.prototype.setLazy=function(t){return this._lazy=t,this},t.prototype.bindData=function(t,e,n){return i.bind(this,t,e,n),this},t.prototype.checked=function(){return this._dom.checked},t.prototype.setChecked=function(t){return!!t!=this._dom.checked&&(this._dom.checked=!!t),this},t.prototype.setValue=function(t){return void 0==this._localValue&&(this.dom().value=this._value=t),this},t.prototype.oninput=function(){let t=this._dom.value;if(this._localValue=t,this._data&&!this.lazy())return this._data.setFormValue(this.value(),this)},t.prototype.onchange=function(){if(this._modelValue=this._localValue=void 0,this.data()){if("radio"!=this.type()&&"checkbox"!=this.type())return this._data.setFormValue(this.value());{let t=this._dom.checked,e=this._data.getFormValue(this),n=void 0==this._value?this.value():this._value;if("radio"==this.type())return this._data.setFormValue(n,this);if("on"==this.dom().value)return this._data.setFormValue(!!t,this);if(!s(e))return this._data.setFormValue(n,this);{let r=e.indexOf(n);if(t&&-1==r)return e.push(n);if(!t&&0<=r)return e.splice(r,1)}}}},t.prototype.onblur=function(){return this._localValue=void 0},t.prototype.end=function(){if(void 0!==this._localValue||!this._data)return this;let t=this._data.getFormValue(this);if(t==this._modelValue)return this;if(s(t)||(this._modelValue=t),"radio"==this.type()||"checkbox"==this.type()){let e=this._value,n=s(t)?0<=t.indexOf(e):"on"==this.dom().value?!!t:t==this._value;this._dom.checked=n}else this._dom.value=t;return this}}),o.extendTag("textarea",function(t){t.prototype.lazy=function(){return this._lazy},t.prototype.setLazy=function(t){return this._lazy=t,this},t.prototype.bindData=function(t,e,n){return i.bind(this,t,e,n),this},t.prototype.setValue=function(t){return void 0==this._localValue&&(this.dom().value=t),this},t.prototype.oninput=function(){let t=this._dom.value;if(this._localValue=t,this._data&&!this.lazy())return this._data.setFormValue(this.value(),this)},t.prototype.onchange=function(){if(this._localValue=void 0,this._data)return this._data.setFormValue(this.value(),this)},t.prototype.onblur=function(){return this._localValue=void 0},t.prototype.render=function(){if(void 0==this._localValue&&this._data){if(this._data){let t=this._data.getFormValue(this);this._dom.value=void 0==t?"":t}return this}}}),o.extendTag("option",function(t){t.prototype.setValue=function(t){return t!=this._value&&(this.dom().value=this._value=t),this},t.prototype.value=function(){return this._value||this.dom().value}}),o.extendTag("select",function(t){t.prototype.bindData=function(t,e,n){return i.bind(this,t,e,n),this},t.prototype.setValue=function(t,e){return this._value,this._value=t,e||this.syncValue(t),this},t.prototype.syncValue=function(t){let e=this._syncValue;if(this.multiple()&&t instanceof Array){if(e instanceof Array&&function(t,e){let n=t.length,r=0;if(n!=e.length)return!1;for(;r++<n;)if(t[r]!=e[r])return!1;return!0}(e,t))return this;t=t.slice()}if(this._syncValue=t,"object"==typeof t){let e=this.multiple()&&t instanceof Array;for(let n,i=0,o=r(this.dom().options),s=o.length;i<s;i++){let r=(n=o[i])._tag?n._tag.value():n.value;if(e)n.selected=0<=t.indexOf(r);else if(t==r){this.dom().selectedIndex=i;break}}}else this.dom().value=t;return this},t.prototype.value=function(){if(this.multiple()){let t=[];for(let e,n=0,i=r(this.dom().selectedOptions),o=i.length;n<o;n++)e=i[n],t.push(e._tag?e._tag.value():e.value);return t}{let t=this.dom().selectedOptions[0];return t?t._tag?t._tag.value():t.value:null}},t.prototype.onchange=function(){if(this._data)return this._data.setFormValue(this.value(),this)},t.prototype.end=function(){return this._data&&this.setValue(this._data.getFormValue(this),1),this._value!=this._syncValue&&this.syncValue(this._value),this}})},function(t,e,n){function r(t){return t?t.toArray?t.toArray():t:[]}var i=n(1);i.Touch=function(t,e){return this.setEvent(t),this.setData({}),this.setActive(!0),this._button=t&&t.button||0,this._suppress=!1,this._captured=!1,this.setBubble(!1),e=e,this.setUpdates(0),this},i.Touch.LastTimestamp=0,i.Touch.TapTimeout=50;var o=[],s=0,a={};i.Touch.count=function(){return s},i.Touch.lookup=function(t){return t&&(t.__touch__||a[t.identifier])},i.Touch.release=function(t){return a[t.identifier],delete a[t.identifier],t.__touch__,void delete t.__touch__},i.Touch.ontouchstart=function(t){for(let n,i=0,u=r(t.changedTouches),h=u.length;i<h;i++)if(n=u[i],!this.lookup(n)){var e=a[n.identifier]=new this(t);n.__touch__=e,o.push(e),s++,e.touchstart(t,n)}return this},i.Touch.ontouchmove=function(t){var e;for(let n,i=0,o=r(t.changedTouches),s=o.length;i<s;i++)n=o[i],(e=this.lookup(n))&&e.touchmove(t,n);return this},i.Touch.ontouchend=function(t){var e;for(let n,i=0,o=r(t.changedTouches),a=o.length;i<a;i++)n=o[i],(e=this.lookup(n))&&(e.touchend(t,n),this.release(n,e),s--);return this},i.Touch.ontouchcancel=function(t){var e;for(let n,i=0,o=r(t.changedTouches),a=o.length;i<a;i++)n=o[i],(e=this.lookup(n))&&(e.touchcancel(t,n),this.release(n,e),s--);return this},i.Touch.onmousedown=function(){return this},i.Touch.onmousemove=function(){return this},i.Touch.onmouseup=function(){return this},i.Touch.prototype.phase=function(){return this._phase},i.Touch.prototype.setPhase=function(t){return this._phase=t,this},i.Touch.prototype.active=function(){return this._active},i.Touch.prototype.setActive=function(t){return this._active=t,this},i.Touch.prototype.event=function(){return this._event},i.Touch.prototype.setEvent=function(t){return this._event=t,this},i.Touch.prototype.pointer=function(){return this._pointer},i.Touch.prototype.setPointer=function(t){return this._pointer=t,this},i.Touch.prototype.target=function(){return this._target},i.Touch.prototype.setTarget=function(t){return this._target=t,this},i.Touch.prototype.handler=function(){return this._handler},i.Touch.prototype.setHandler=function(t){return this._handler=t,this},i.Touch.prototype.updates=function(){return this._updates},i.Touch.prototype.setUpdates=function(t){return this._updates=t,this},i.Touch.prototype.suppress=function(){return this._suppress},i.Touch.prototype.setSuppress=function(t){return this._suppress=t,this},i.Touch.prototype.data=function(){return this._data},i.Touch.prototype.setData=function(t){return this._data=t,this},i.Touch.prototype.__bubble={chainable:!0,name:"bubble"},i.Touch.prototype.bubble=function(t){return void 0===t?this._bubble:(this.setBubble(t),this)},i.Touch.prototype.setBubble=function(t){return this._bubble=t,this},i.Touch.prototype.timestamp=function(){return this._timestamp},i.Touch.prototype.setTimestamp=function(t){return this._timestamp=t,this},i.Touch.prototype.gestures=function(){return this._gestures},i.Touch.prototype.setGestures=function(t){return this._gestures=t,this},i.Touch.prototype.capture=function(){return this._captured=!0,this._event&&this._event.stopPropagation(),this._selblocker||(this._selblocker=function(t){return t.preventDefault()},i.document().addEventListener("selectstart",this._selblocker,!0)),this},i.Touch.prototype.isCaptured=function(){return!!this._captured},i.Touch.prototype.extend=function(t){return this._gestures||(this._gestures=[]),this._gestures.push(t),this},i.Touch.prototype.redirect=function(t){return this._redirect=t,this},i.Touch.prototype.suppress=function(){return this._active=!1,this},i.Touch.prototype.setSuppress=function(t){return console.warn("Imba.Touch#suppress= is deprecated"),this._supress=t,this},i.Touch.prototype.touchstart=function(t,e){return this._event=t,this._touch=e,this._button=0,this._x=e.clientX,this._y=e.clientY,this.began(),this.update(),t&&this.isCaptured()&&t.preventDefault(),this},i.Touch.prototype.touchmove=function(t,e){return this._event=t,this._x=e.clientX,this._y=e.clientY,this.update(),t&&this.isCaptured()&&t.preventDefault(),this},i.Touch.prototype.touchend=function(t,e){if(this._event=t,this._x=e.clientX,this._y=e.clientY,this.ended(),i.Touch.LastTimestamp=t.timeStamp,20>this._maxdr){var n=new i.Event(t);n.setType("tap"),n.process(),n._responder&&t.preventDefault()}return t&&this.isCaptured()&&t.preventDefault(),this},i.Touch.prototype.touchcancel=function(){return this.cancel()},i.Touch.prototype.mousedown=function(t,e){var n=this;return n._event=t,n._button=t.button,n._x=e.clientX,n._y=e.clientY,n.began(),n.update(),n._mousemove=function(t){return n.mousemove(t,t)},i.document().addEventListener("mousemove",n._mousemove,!0),n},i.Touch.prototype.mousemove=function(t,e){return this._x=e.clientX,this._y=e.clientY,this._event=t,this.isCaptured()&&t.preventDefault(),this.update(),this.move(),this},i.Touch.prototype.mouseup=function(t,e){return this._x=e.clientX,this._y=e.clientY,this.ended(),this},i.Touch.prototype.idle=function(){return this.update()},i.Touch.prototype.began=function(){this._timestamp=Date.now(),this._maxdr=this._dr=0,this._x0=this._x,this._y0=this._y;var t=this.event().target,e=null;for(this._sourceTarget=t&&i.getTagForDom(t);t&&(!(e=i.getTagForDom(t))||!e.ontouchstart||(this._bubble=!1,this.setTarget(e),this.target().ontouchstart(this),this._bubble));)t=t.parentNode;return this._updates++,this},i.Touch.prototype.update=function(){var t;if(!this._active||this._cancelled)return this;var e=Math.sqrt(this.dx()*this.dx()+this.dy()*this.dy());if(e>this._dr&&(this._maxdr=e),this._dr=e,this._redirect&&(this._target&&this._target.ontouchcancel&&this._target.ontouchcancel(this),this.setTarget(this._redirect),this._redirect=null,this.target().ontouchstart&&this.target().ontouchstart(this),this._redirect))return this.update();if(this._updates++,this._gestures)for(let t=0,e=r(this._gestures),n=e.length;t<n;t++)e[t].ontouchupdate(this);return(t=this.target())&&t.ontouchupdate&&t.ontouchupdate(this),this._redirect&&this.update(),this},i.Touch.prototype.move=function(){var t;if(!this._active||this._cancelled)return this;if(this._gestures)for(let t,e=0,n=r(this._gestures),i=n.length;e<i;e++)(t=n[e]).ontouchmove&&t.ontouchmove(this,this._event);return(t=this.target())&&t.ontouchmove&&t.ontouchmove(this,this._event),this},i.Touch.prototype.ended=function(){var t;if(!this._active||this._cancelled)return this;if(this._updates++,this._gestures)for(let t=0,e=r(this._gestures),n=e.length;t<n;t++)e[t].ontouchend(this);return(t=this.target())&&t.ontouchend&&t.ontouchend(this),this.cleanup_(),this},i.Touch.prototype.cancel=function(){return this._cancelled||(this._cancelled=!0,this.cancelled(),this.cleanup_()),this},i.Touch.prototype.cancelled=function(){var t;if(!this._active)return this;if(this._cancelled=!0,this._updates++,this._gestures)for(let t,e=0,n=r(this._gestures),i=n.length;e<i;e++)(t=n[e]).ontouchcancel&&t.ontouchcancel(this);return(t=this.target())&&t.ontouchcancel&&t.ontouchcancel(this),this},i.Touch.prototype.cleanup_=function(){return this._mousemove&&(i.document().removeEventListener("mousemove",this._mousemove,!0),this._mousemove=null),this._selblocker&&(i.document().removeEventListener("selectstart",this._selblocker,!0),this._selblocker=null),this},i.Touch.prototype.dr=function(){return this._dr},i.Touch.prototype.dx=function(){return this._x-this._x0},i.Touch.prototype.dy=function(){return this._y-this._y0},i.Touch.prototype.x0=function(){return this._x0},i.Touch.prototype.y0=function(){return this._y0},i.Touch.prototype.x=function(){return this._x},i.Touch.prototype.y=function(){return this._y},i.Touch.prototype.tx=function(){return this._targetBox||(this._targetBox=this._target.dom().getBoundingClientRect()),this._x-this._targetBox.left},i.Touch.prototype.ty=function(){return this._targetBox||(this._targetBox=this._target.dom().getBoundingClientRect()),this._y-this._targetBox.top},i.Touch.prototype.button=function(){return this._button},i.Touch.prototype.sourceTarget=function(){return this._sourceTarget},i.Touch.prototype.elapsed=function(){return Date.now()-this._timestamp},i.TouchGesture=function(){},i.TouchGesture.prototype.__active={default:!1,name:"active"},i.TouchGesture.prototype.active=function(){return this._active},i.TouchGesture.prototype.setActive=function(t){return this._active=t,this},i.TouchGesture.prototype._active=!1,i.TouchGesture.prototype.ontouchstart=function(){return this},i.TouchGesture.prototype.ontouchupdate=function(){return this},i.TouchGesture.prototype.ontouchend=function(){return this}},function(t,e,n){function r(t){return t?t.toArray?t.toArray():t:[]}var i=n(1),o={esc:27,tab:9,enter:13,space:32,up:38,down:40},s=i.Tag.prototype;s.stopModifier=function(t){return t.stop()||!0},s.preventModifier=function(t){return t.prevent()||!0},s.silenceModifier=function(t){return t.silence()||!0},s.bubbleModifier=function(t){return t.bubble(!0)||!0},s.ctrlModifier=function(t){return 1==t.event().ctrlKey},s.altModifier=function(t){return 1==t.event().altKey},s.shiftModifier=function(t){return 1==t.event().shiftKey},s.metaModifier=function(t){return 1==t.event().metaKey},s.keyModifier=function(t,e){return!e.keyCode()||e.keyCode()==t},s.delModifier=function(t){return!t.keyCode()||8==t.keyCode()||46==t.keyCode()},s.selfModifier=function(t){return t.event().target==this._dom},s.leftModifier=function(t){return void 0==t.button()?s.keyModifier(37,t):0===t.button()},s.rightModifier=function(t){return void 0==t.button()?s.keyModifier(39,t):2===t.button()},s.middleModifier=function(t){return!(void 0!=t.button())||1===t.button()},s.getHandler=function(t){if(this[t])return this},i.Event=function(t){this.setEvent(t),this._bubble=!0},i.Event.prototype.event=function(){return this._event},i.Event.prototype.setEvent=function(t){return this._event=t,this},i.Event.prototype.prefix=function(){return this._prefix},i.Event.prototype.setPrefix=function(t){return this._prefix=t,this},i.Event.prototype.source=function(){return this._source},i.Event.prototype.setSource=function(t){return this._source=t,this},i.Event.prototype.data=function(){return this._data},i.Event.prototype.setData=function(t){return this._data=t,this},i.Event.prototype.responder=function(){return this._responder},i.Event.prototype.setResponder=function(t){return this._responder=t,this},i.Event.wrap=function(t){return new this(t)},i.Event.prototype.setType=function(t){return this._type=t,this},i.Event.prototype.type=function(){return this._type||this.event().type},i.Event.prototype.native=function(){return this._event},i.Event.prototype.name=function(){return this._name||(this._name=this.type().toLowerCase().replace(/\:/g,""))},i.Event.prototype.bubble=function(t){return void 0!=t?(this.setBubble(t),this):this._bubble},i.Event.prototype.setBubble=function(t){return this._bubble=t,this},i.Event.prototype.stop=function(){return this.setBubble(!1),this},i.Event.prototype.stopPropagation=function(){return this.stop()},i.Event.prototype.halt=function(){return this.stop()},i.Event.prototype.prevent=function(){return this.event().preventDefault?this.event().preventDefault():this.event().defaultPrevented=!0,this.defaultPrevented=!0,this},i.Event.prototype.preventDefault=function(){return console.warn("Event#preventDefault is deprecated - use Event#prevent"),this.prevent()},i.Event.prototype.isPrevented=function(){return this.event()&&this.event().defaultPrevented||this._cancel},i.Event.prototype.cancel=function(){return console.warn("Event#cancel is deprecated - use Event#prevent"),this.prevent()},i.Event.prototype.silence=function(){return this._silenced=!0,this},i.Event.prototype.isSilenced=function(){return!!this._silenced},i.Event.prototype.target=function(){return i.getTagForDom(this.event()._target||this.event().target)},i.Event.prototype.responder=function(){return this._responder},i.Event.prototype.redirect=function(t){return this._redirect=t,this},i.Event.prototype.processHandlers=function(t,e){let n=1,r=e.length,s=this._bubble,a=e.state||(e.state={});for(s&&(this._bubble=1);n<r;){let r=!1,s=e[n++],u=null,h=t;if(s instanceof Array&&(u=s.slice(1),s=s[0]),"string"==typeof s){o[s]&&(u=[o[s]],s="key");let e=s+"Modifier";t[e]&&(r=!0,u=(u||[]).concat([this,a]),s=t[e])}if("string"==typeof s){let t=null,e=a.context;e&&(e.getHandler instanceof Function&&(e=e.getHandler(s,this)),e[s]instanceof Function&&(s=t=e[s],h=e)),t||console.warn("event "+this.type()+": could not find '"+s+"' in context",e)}if(s instanceof Function){let e=s.apply(h,u||[this]);if(!r&&(this._responder||(this._responder=t)),0==e)break;e&&!this._silenced&&e.then instanceof Function&&e.then(i.commit)}}return 1===this._bubble&&(this._bubble=s),null},i.Event.prototype.process=function(){for(var t,e,n=this.name(),i="on"+(this._prefix||"")+n,o=this.event()._target||this.event().target,s=o._responder||o;s;){this._redirect=null;let o=s._dom?s:s._tag;if(o){if(e=o._on_){for(let t,i=0,s=r(e),a=s.length;i<a;i++)(t=s[i])&&(t[0],n==t[0]&&this.bubble()&&this.processHandlers(o,t));if(!this.bubble())break}this.bubble()&&o[i]instanceof Function&&(this._responder||(this._responder=o),this._silenced=!1,t=o[i](this,this.data())),o.onevent&&o.onevent(this)}if(!this.bubble()||!(s=this._redirect||(o?o.parent():s.parentNode)))break}return this.processed(),t&&t.then instanceof Function&&t.then(this.processed.bind(this)),this},i.Event.prototype.processed=function(){return!this._silenced&&this._responder&&(i.emit(i,"event",[this]),i.commit(this.event())),this},i.Event.prototype.x=function(){return this.native().x},i.Event.prototype.y=function(){return this.native().y},i.Event.prototype.button=function(){return this.native().button},i.Event.prototype.keyCode=function(){return this.native().keyCode},i.Event.prototype.ctrl=function(){return this.native().ctrlKey},i.Event.prototype.alt=function(){return this.native().altKey},i.Event.prototype.shift=function(){return this.native().shiftKey},i.Event.prototype.meta=function(){return this.native().metaKey},i.Event.prototype.key=function(){return this.native().key},i.Event.prototype.which=function(){return this.event().which}},function(t,e,n){function r(t){return t?t.toArray?t.toArray():t:[]}function i(t,e,n){if(e instanceof Array)for(let o=0,s=r(e),a=s.length;o<a;o++)i(t,s[o],n);else if(e&&e._slot_)t.removeChild(e);else if(null!=e){let r=n?n.nextSibling:t._dom.firstChild;if(!(r instanceof Text&&r.textContent==e))throw"cannot remove string";t.removeChild(r)}return n}function o(t,e){if(e instanceof Array){let n=0,r=e.taglen,i=null==r?e.length:e.domlen=r;for(;n<i;)o(t,e[n++])}else e&&e._dom?t.appendChild(e):null!=e&&!1!==e&&t.appendChild(p.createTextNode(e))}function s(t,e,n){var r=n?n.nextSibling:t._dom.firstChild;return r?(function t(e,n,r){if(n instanceof Array){let i=0,o=n.taglen,s=null==o?n.length:n.domlen=o;for(;i<s;)t(e,n[i++],r)}else n&&n._dom?e.insertBefore(n,r):null!=n&&!1!==n&&e.insertBefore(p.createTextNode(n),r);return r}(t,e,r),r.previousSibling):(o(t,e),t._dom.lastChild)}function a(t,e,n,i){var o,a=e[e.length-1],u=[],h=[],l=[],c=0,d=0;for(let i,s=0,a=r(n),p=a.length;s<p;s++)if((i=a[s])&&3==i.nodeType?(0<=(o=e.indexOf(i.textContent))&&(e[o]=i),!0):o=e.indexOf(i),u.push(o),-1!=o){for(var f=u.length-2;0<=f;)if(-1==u[f])f--;else{if(o>u[f])break;f=h[f]}h.push(f);var _=-1==f?0:l[f]+1;_>c&&(c=_,d=s),l.push(_)}else t.removeChild(i),h.push(-1),l.push(-1);for(var g=[],m=u.length-1;0<=m;)m==d&&-1!=u[m]&&(g[u[m]]=!0,d=h[d]),m-=1;for(let n,o=0,a=r(e),u=a.length;o<u;o++){if(n=a[o],!g[o]){n&&n._dom||(n=e[o]=p.createTextNode(n));var y=e[o-1];s(t,n,y&&y._slot_||y||i)}i=n._slot_||i&&i.nextSibling||t._dom.firstChild}return a&&a._slot_||i}function u(t,e,n,r){var i=e.length,o=i,s=e[i-1];if(i==n.length&&e[0]===n[0])for(;o--&&e[o]===n[o];);return-1==o?s&&s._slot_||s||r:a(t,e,n,r)}function h(t,e,n,r){for(var i=e.length,o=n.length,s=e.cache.i$,u=0,h=i-o;u<o&&u<i&&e[u]===n[u];)u++;if(1e3<s&&500<s-i&&e.cache.$prune(e),!(0<h&&u==o)){if(0<h){let r=i;for(;r>u&&e[r-1]===n[r-1-h];)r--;if(h==r-u){for(let i=n[u]._slot_;u<r;)t.insertBefore(e[u++],i);return}}else{if(0>h&&u==i){for(;u<o;)t.removeChild(n[u++]);return}if(0>h){let r=o;for(;r>u&&e[r-1+h]===n[r-1];)r--;if(h==u-r){for(;u<r;)t.removeChild(n[u++]);return}}else if(u==i)return}return a(t,e,n,r)}for(;u<i;)t.appendChild(e[u++])}function l(t,e,n,r){var i=e.taglen,o=e.domlen||0,s=i?e[i-1]:null;if(o>i)for(;o>i;){var a=e[--o];t.removeChild(a._slot_)}else if(i>o){let n=o?e[o-1]._slot_:r,s=n?n.nextSibling:t._dom.firstChild;for(;o<i;){let n=e[o++];s?t.insertBefore(n._slot_,s):t.appendChild(n._slot_)}}return e.domlen=i,s?s._slot_:r}function c(t,e,n,o){var a=null==e||!1===e,h=null==n||!1===n;if(e===n)return a?o:e._slot_?e._slot_:e instanceof Array&&null!=e.taglen?l(t,e,0,o):o?o.nextSibling:t._dom.firstChild;if(e instanceof Array){if(n instanceof Array){let s=e.static;if(!s&&!n.static)return u(t,e,n,o);if(s==n.static){for(let i=0,s=r(e),a=s.length;i<a;i++)o=c(t,s[i],n[i],o);return o}i(t,n,o)}else h||(n._slot_?t.removeChild(n):t.removeChild(o?o.nextSibling:t._dom.firstChild));return s(t,e,o)}if(!a&&e._slot_)return h||i(t,n,o),s(t,e,o);if(a)return h||i(t,n,o),o;{let r;if(n instanceof Array)i(t,n,o);else if(n&&n._slot_)t.removeChild(n);else if(!h&&((r=o?o.nextSibling:t._dom.firstChild)instanceof Text&&r.textContent!=e))return r.textContent=e,r;return s(t,e,o)}}var p=n(1);p.extendTag("element",function(t){t.prototype.setChildren=function(t,e){var n=this._tree_;if(t===n&&(!t||void 0==t.taglen))return this;if(n||3==e)if(1==e){let e=null;for(let i=0,o=r(t),s=o.length;i<s;i++)e=c(this,o[i],n[i],e)}else{if(2==e)return this;if(3==e){if("object"!=typeof t)return this.setText(t);if(t&&t._dom)this.removeAllChildren(),this.appendChild(t);else{if(!(t instanceof Array))return this.setText(t);5==t._type&&n&&5==n._type?h(this,t,n,null):n instanceof Array?c(this,t,n,null):(this.removeAllChildren(),o(this,t))}}else 4==e?l(this,t,0,null):5==e?h(this,t,n,null):t instanceof Array&&n instanceof Array?c(this,t,n,null):(this.removeAllChildren(),o(this,t))}else this.removeAllChildren(),o(this,t);return this._tree_=t,this},t.prototype.content=function(){return this._content||this.children().toArray()},t.prototype.setText=function(t){if(t!=this._tree_){var e=null===t||!1===t?"":t;(this._text_||this._dom).textContent=e,this._text_||(this._text_=this._dom.firstChild),this._tree_=t}return this}});var d=p.Tag.prototype;d.setContent=d.setChildren,"undefined"!=typeof navigator&&0==(navigator.vendor||"").indexOf("Apple")&&(d.setText=function(t){return t!=this._tree_&&(this._dom.textContent=null===t||!1===t?"":t,this._tree_=t),this})},,function(t,e,n){function r(t){void 0===t&&(t={}),this._url=t.url||"",this._hash="",this._routes={},this._options=t,this._redirects=t.redirects||{},this._aliases=t.aliases||{},this._busy=[],this._root=t.root||"",this.setMode(t.mode||"history"),this.setup()}var i=n(0),o=n(22).Route,s="undefined"!=typeof window;e.Router=r,r._instance=null,r.prototype.__mode={watch:"modeDidSet",chainable:!0,name:"mode"},r.prototype.mode=function(t){return void 0===t?this._mode:(this.setMode(t),this)},r.prototype.setMode=function(t){var e=this.mode();return t!=e&&(this._mode=t),t!=e&&this.modeDidSet&&this.modeDidSet(t,e,this.__mode),this},r.prototype.busy=function(){return this._busy},r.prototype.setBusy=function(t){return this._busy=t,this},r.prototype.root=function(){return this._root},r.prototype.setRoot=function(t){return this._root=t,this},r.prototype.option=function(t,e){return void 0==e?this._options[t]:(this._options[t]=e,this)},r.prototype.location=function(){return document.location},r.prototype.setup=function(){var t=this;if(s){!t._root&&window.SCRIMBA_ROOT&&"hash"!=t.mode()&&(t._root=window.SCRIMBA_ROOT.replace(/\/$/,""));let e=t.path();t.history().replaceState({},null,t.normalize(e)),t._hash=t.location().hash,window.addEventListener("hashchange",function(){return t.emit("hashchange",t._hash=t.location().hash),i.commit()})}return t},r.prototype.path=function(){let t=this._url||(s?"hash"==this.mode()?(this.hash()||"").slice(1):this.location().pathname:"");return this._root&&0==t.indexOf(this._root)&&(t=t.slice(this._root.length)),""==t&&(t="/"),t=this._redirects[t]||t,t=this._aliases[t]||t},r.prototype.url=function(){var t=this.path();return s&&"hash"!=this.mode()&&(t+=this.location().hash),t},r.prototype.hash=function(){return s?this.location().hash:""},r.instance=function(){return this._instance||(this._instance=new this)},r.prototype.history=function(){return window.history},r.prototype.match=function(t){return(this._routes[t]||(this._routes[t]=new o(this,t))).test()},r.prototype.go=function(t,e){var n=this;return void 0===e&&(e={}),t=n._redirects[t]||t,n.history().pushState(e,null,n.normalize(t)),i.commit(),s&&n.onReady(function(){let t=n.location().hash;if(t!=n._hash)return n.emit("hashchange",n._hash=t)}),n},r.prototype.replace=function(t,e){return void 0===e&&(e={}),t=this._redirects[t]||t,this.history().replaceState(e,null,this.normalize(t))},r.prototype.normalize=function(t){return"hash"==this.mode()?t="#"+t:this.root()&&(t=this.root()+t),t},r.prototype.onReady=function(t){var e=this;return i.ticker().add(function(){return 0==function(t){return t&&(t.len instanceof Function?t.len():t.length)||0}(e._busy)?t(e):i.once(e,"ready",t)})},r.prototype.emit=function(t){for(var e=arguments,n=e.length,r=Array(1<n?n-1:0);1<n;)r[--n-1]=e[n];return i.emit(this,t,r)},r.prototype.on=function(t){for(var e=arguments,n=e.length,r=Array(1<n?n-1:0);1<n;)r[--n-1]=e[n];return i.listen.apply(i,[].concat([this,t],[].slice.call(r)))},r.prototype.once=function(t){for(var e=arguments,n=e.length,r=Array(1<n?n-1:0);1<n;)r[--n-1]=e[n];return i.once.apply(i,[].concat([this,t],[].slice.call(r)))},r.prototype.un=function(t){for(var e=arguments,n=e.length,r=Array(1<n?n-1:0);1<n;)r[--n-1]=e[n];return i.unlisten.apply(i,[].concat([this,t],[].slice.call(r)))};const a={inject:function(t){return t.render,t.resolveRoute=this.resolveRoute,t.beforeRender=this.beforeRender,t.ontap||(t.ontap=this.ontap)},beforeRender:function(){return this.resolveRoute(),!0},ontap:function(t){var e=this._route.resolve();if(e){if(this._route.option("sticky")){let t=this._route.params().url;t&&0==t.indexOf(e)&&(e=t)}return"#"!=e[0]&&"/"!=e[0]?(t._responder=null,t.prevent().stop(),window.open(e,"_blank")):t.meta()||t.alt()?(t._responder=null,t.prevent().stop(),window.open(this.router().root()+e,"_blank")):(t.prevent().stop(),this.router().go(e,{}))}},resolveRoute:function(){return this._route.test(),this.setAttribute("href",this.router().root()+this._route.resolve()),this.flagIf("active",this._route.test())}},u={inject:function(t){return t._params={},t.resolveRoute=this.resolveRoute,t.beforeRender=this.beforeRender,t.detachFromParent()},beforeRender:function(){if(this.resolveRoute(),!this._params._active)return!1;let t=this._route.status();return this["render"+t]?(this["render"+t](),!1):!!(200<=t)},resolveRoute:function(){var t=this;let e=t._params,n=t._route.test();if(n){if(n!=e&&(t.setParams(n),t.load&&t.route().load(function(){return t.load(t.params())})),!n._active)return n._active=!0,t.attachToParent()}else if(e._active)return e._active=!1,t.detachFromParent()}};i.extendTag("element",function(t){t.prototype.__params={watch:"paramsDidSet",name:"params"},t.prototype.params=function(){return this._params},t.prototype.setParams=function(t){var e=this.params();return t!=e&&(this._params=t),t!=e&&this.paramsDidSet&&this.paramsDidSet(t,e,this.__params),this},t.prototype.route=function(){return this._route},t.prototype.setRoute=function(t,e){let n=this._route;if(n)t+""!=n._raw&&n.setPath(t+"");else{let n="/"==(t+="")[0]?null:this.getParentRoute(),r=e||{};r.node=this,this._route=new o(this.router(),t,n,r),r.link?a.inject(this,r):u.inject(this)}return this},t.prototype.setRouteTo=function(t,e){return this._route?this.setRoute(t):(e||(e={}),e.link=!0,this.setRoute(t,e))},t.prototype.setRouterUrl=function(t){return this._router||(this._router=new r(t)),this},t.prototype.setRouterRoot=function(t){return this.router().setRoot(t),this},t.prototype.getParentRoute=function(){for(var t=this._owner_;t;){if(t._route)return t._route;t=t._owner_}return null},t.prototype.setRouter=function(t){return this._router=t,this},t.prototype.router=function(){return this._router||(this._router=this._owner_&&this._owner_.router()||new r)}})},function(t,e,n){function r(t,e,n,r){this._parent=n,this._router=t,this._options=r||{},this._node=this._options.node,this._status=200,this.setPath(e)}var i=n(0);e.Route=r,r.prototype.raw=function(){return this._raw},r.prototype.setRaw=function(t){return this._raw=t,this},r.prototype.params=function(){return this._params},r.prototype.setParams=function(t){return this._params=t,this},r.prototype.__status={watch:"statusDidSet",name:"status"},r.prototype.status=function(){return this._status},r.prototype.setStatus=function(t){var e=this.status();return t!=e&&(this._status=t),t!=e&&this.statusDidSet&&this.statusDidSet(t,e,this.__status),this},r.prototype.option=function(t){return this._options[t]},r.prototype.setPath=function(t){var e=this;return e._raw=t,e._groups=[],e._params={},e._cache={},t="^"+(t=t.replace(/\:(\w+|\*)(\.)?/g,function(t,n,r){return"*"!=n&&e._groups.push(n),r?"([^/#.?]+).":"([^/#?]+)"})),t+=e._options.exact&&"$"!=t[t.length-1]?"(?=[#?]|$)":"(?=[/#?]|$)",e._regex=new RegExp(t),e},r.prototype.test=function(t){var e,n;if(t||(t=this._router.url()),t==this._cache.url)return this._cache.match;let r="",i=this._cache.url=t;if(this._cache.match=null,this._parent&&"/"!=this._raw[0]&&(e=this._parent.test(t))&&0==t.indexOf(e.path)&&(r=e.path+"/",i=t.slice(e.path.length+1)),n=i.match(this._regex)){let e=r+n[0];if(e==this._params.path)return this._params.url=t,this._cache.match=this._params;if(this._params={path:e,url:t},this._groups.length)for(let t,e,r=0,i=function(t){return t?t.toArray?t.toArray():t:[]}(n),o=i.length;r<o;r++)t=i[r],(e=this._groups[r-1])&&(this._params[e]=t);return this._cache.match=this._params}return this._cache.match=null},r.prototype.statusDidSet=function(t){let e=this._router.busy().indexOf(this);return clearTimeout(this._statusTimeout),200>t?(-1==e&&this._router.busy().push(this),this._statusTimeout=setTimeout(function(){return t=408},25e3)):0<=e&&200<=t&&(this._router.busy().splice(e,1),this._node&&this._node.commit&&this._node.commit(),0==this._router.busy().length&&i.emit(this._router,"ready",[this._router])),this._node&&this._node.setFlag&&this._node.setFlag("route-status","status-"+t)},r.prototype.load=function(t){var e=this;e.setStatus(102);var n=e._handler=function(t){var r;return n==e._handler?(e._handler=null,e.setStatus(r="number"==typeof t||t instanceof Number?t:200),r):void console.log("another load has started after this")};return t instanceof Function&&(t=t(n)),t&&t.then?t.then(n,n):n(t),e},r.prototype.resolve=function(t){var e;if(t||(t=this._router.url()),this._cache.resolveUrl==t)return this._cache.resolved;return this._cache.resolveUrl=t,this._parent&&"/"!=this._raw[0]?(e=this._parent.test())&&(this._cache.resolved=e.path+"/"+this._raw):this._cache.resolved=""+this._raw,this._cache.resolved}},,function(t){"use strict";t.exports=function(t,e){if(void 0===e&&(e="---"),!t&&""!==t)throw new TypeError("Expect str to be a string!");t=t.trim();var n=new RegExp("^"+e+"\\n+([\\s\\S]+)\\n+"+e+"(?:\\n([\\s\\S]*))?$"),r=t.split("\n"),i={body:t};if(!r[0]||r[0]!==e||!n.test(t))return i;var o=n.exec(t);return{head:o[1],body:o[2]}}},,,,,,,,,,,function(t,e,n){(function(e){!function(){"use strict";function e(t){this.tokens=[],this.tokens.links={},this.options=t||d.defaults,this.rules=f.normal,this.options.pedantic?this.rules=f.pedantic:this.options.gfm&&(this.options.tables?this.rules=f.tables:this.rules=f.gfm)}function n(t,e){if(this.options=e||d.defaults,this.links=t,this.rules=_.normal,this.renderer=this.options.renderer||new r,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.pedantic?this.rules=_.pedantic:this.options.gfm&&(this.options.breaks?this.rules=_.breaks:this.rules=_.gfm)}function r(t){this.options=t||d.defaults}function i(){}function o(t){this.tokens=[],this.token=null,this.options=t||d.defaults,this.options.renderer=this.options.renderer||new r,this.renderer=this.options.renderer,this.renderer.options=this.options}function s(t,e){return t.replace(e?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function a(t){return t.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,function(t,e){var n=String.fromCharCode;return"colon"===(e=e.toLowerCase())?":":"#"===e.charAt(0)?"x"===e.charAt(1)?n(parseInt(e.substring(2),16)):n(+e.substring(1)):""})}function u(t,e){return t=t.source||t,e=e||"",{replace:function(e,n){return n=(n=n.source||n).replace(/(^|[^\[])\^/g,"$1"),t=t.replace(e,n),this},getRegex:function(){return new RegExp(t,e)}}}function h(t,e){return g[" "+t]||(/^[^:]+:\/*[^/]*$/.test(t)?g[" "+t]=t+"/":g[" "+t]=t.replace(/[^/]*$/,"")),t=g[" "+t],"//"===e.slice(0,2)?t.replace(/:[\s\S]*/,":")+e:"/"===e.charAt(0)?t.replace(/(:\/*[^/]*)[\s\S]*/,"$1")+e:t+e}function l(){}function c(t){for(var e,n,r=1;r<arguments.length;r++)for(n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function p(t,e){var n=t.replace(/([^\\])\|/g,"$1 |").split(/ +\| */),r=0;if(n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;r<n.length;r++)n[r]=n[r].replace(/\\\|/g,"|");return n}function d(t,n,r){if(void 0===t||null===t)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof t)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");if(r||"function"==typeof n){r||(r=n,n=null);var i,a,u=(n=c({},d.defaults,n||{})).highlight,h=0;try{i=e.lex(t,n)}catch(t){return r(t)}a=i.length;var l=function(t){if(t)return n.highlight=u,r(t);var e;try{e=o.parse(i,n)}catch(e){t=e}return n.highlight=u,t?r(t):r(null,e)};if(!u||3>u.length)return l();if(delete n.highlight,!a)return l();for(;h<i.length;h++)!function(t){"code"===t.type?u(t.text,t.lang,function(e,n){return e?l(e):null==n||n===t.text?--a||l():(t.text=n,t.escaped=!0,void(--a||l()))}):--a||l()}(i[h])}else try{return n&&(n=c({},d.defaults,n)),o.parse(e.lex(t,n),n)}catch(t){if(t.message+="\nPlease report this to https://github.com/markedjs/marked.",(n||d.defaults).silent)return"<p>An error occurred:</p><pre>"+s(t.message+"",!0)+"</pre>";throw t}}var f={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:l,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,nptable:l,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=\\h*\\n)[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=\\h*\\n)[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:l,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading| {0,3}>|<\/?(?:tag)(?: +|\n|\/?>)|<(?:script|pre|style|!--))[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};f.def=u(f.def).replace("label",f._label).replace("title",f._title).getRegex(),f.bullet=/(?:[*+-]|\d+\.)/,f.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,f.item=u(f.item,"gm").replace(/bull/g,f.bullet).getRegex(),f.list=u(f.list).replace(/bull/g,f.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+f.def.source+")").getRegex(),f._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",f._comment=/<!--(?!-?>)[\s\S]*?-->/,f.html=u(f.html,"i").replace("comment",f._comment).replace("tag",f._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),f.paragraph=u(f.paragraph).replace("hr",f.hr).replace("heading",f.heading).replace("lheading",f.lheading).replace("tag",f._tag).getRegex(),f.blockquote=u(f.blockquote).replace("paragraph",f.paragraph).getRegex(),f.normal=c({},f),f.gfm=c({},f.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\n? *\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),f.gfm.paragraph=u(f.paragraph).replace("(?!","(?!"+f.gfm.fences.source.replace("\\1","\\2")+"|"+f.list.source.replace("\\1","\\3")+"|").getRegex(),f.tables=c({},f.gfm,{nptable:/^ *([^|\n ].*\|.*)\n *([-:]+ *\|[-| :]*)(?:\n((?:.*[^>\n ].*(?:\n|$))*)\n*|$)/,table:/^ *\|(.+)\n *\|?( *[-:]+[-| :]*)(?:\n((?: *[^>\n ].*(?:\n|$))*)\n*|$)/}),f.pedantic=c({},f.normal,{html:u("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",f._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/}),e.rules=f,e.lex=function(t,n){return new e(n).lex(t)},e.prototype.lex=function(t){return t=t.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(t,!0)},e.prototype.token=function(t,e){t=t.replace(/^ +$/gm,"");for(var n,r,i,o,s,a,u,h,l,c,d,_,g;t;)if((i=this.rules.newline.exec(t))&&(t=t.substring(i[0].length),1<i[0].length&&this.tokens.push({type:"space"})),i=this.rules.code.exec(t))t=t.substring(i[0].length),i=i[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?i:i.replace(/\n+$/,"")});else if(i=this.rules.fences.exec(t))t=t.substring(i[0].length),this.tokens.push({type:"code",lang:i[2],text:i[3]||""});else if(i=this.rules.heading.exec(t))t=t.substring(i[0].length),this.tokens.push({type:"heading",depth:i[1].length,text:i[2]});else if(e&&(i=this.rules.nptable.exec(t))&&(a={type:"table",header:p(i[1].replace(/^ *| *\| *$/g,"")),align:i[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:i[3]?i[3].replace(/\n$/,"").split("\n"):[]}).header.length===a.align.length){for(t=t.substring(i[0].length),h=0;h<a.align.length;h++)a.align[h]=/^ *-+: *$/.test(a.align[h])?"right":/^ *:-+: *$/.test(a.align[h])?"center":/^ *:-+ *$/.test(a.align[h])?"left":null;for(h=0;h<a.cells.length;h++)a.cells[h]=p(a.cells[h],a.header.length);this.tokens.push(a)}else if(i=this.rules.hr.exec(t))t=t.substring(i[0].length),this.tokens.push({type:"hr"});else if(i=this.rules.blockquote.exec(t))t=t.substring(i[0].length),this.tokens.push({type:"blockquote_start"}),i=i[0].replace(/^ *> ?/gm,""),this.token(i,e),this.tokens.push({type:"blockquote_end"});else if(i=this.rules.list.exec(t)){for(t=t.substring(i[0].length),d=1<(o=i[2]).length,this.tokens.push({type:"list_start",ordered:d,start:d?+o:""}),n=!1,c=(i=i[0].match(this.rules.item)).length,h=0;h<c;h++)u=(a=i[h]).length,~(a=a.replace(/^ *([*+-]|\d+\.) +/,"")).indexOf("\n ")&&(u-=a.length,a=this.options.pedantic?a.replace(/^ {1,4}/gm,""):a.replace(new RegExp("^ {1,"+u+"}","gm"),"")),this.options.smartLists&&h!==c-1&&(o!==(s=f.bullet.exec(i[h+1])[0])&&!(1<o.length&&1<s.length)&&(t=i.slice(h+1).join("\n")+t,h=c-1)),r=n||/\n\n(?!\s*$)/.test(a),h!==c-1&&(n="\n"===a.charAt(a.length-1),!r&&(r=n)),g=void 0,(_=/^\[[ xX]\] /.test(a))&&(g=" "!==a[1],a=a.replace(/^\[[ xX]\] +/,"")),this.tokens.push({type:r?"loose_item_start":"list_item_start",task:_,checked:g}),this.token(a,!1),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(i=this.rules.html.exec(t))t=t.substring(i[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===i[1]||"script"===i[1]||"style"===i[1]),text:i[0]});else if(e&&(i=this.rules.def.exec(t)))t=t.substring(i[0].length),i[3]&&(i[3]=i[3].substring(1,i[3].length-1)),l=i[1].toLowerCase().replace(/\s+/g," "),this.tokens.links[l]||(this.tokens.links[l]={href:i[2],title:i[3]});else if(e&&(i=this.rules.table.exec(t))&&(a={type:"table",header:p(i[1].replace(/^ *| *\| *$/g,"")),align:i[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:i[3]?i[3].replace(/(?: *\| *)?\n$/,"").split("\n"):[]}).header.length===a.align.length){for(t=t.substring(i[0].length),h=0;h<a.align.length;h++)a.align[h]=/^ *-+: *$/.test(a.align[h])?"right":/^ *:-+: *$/.test(a.align[h])?"center":/^ *:-+ *$/.test(a.align[h])?"left":null;for(h=0;h<a.cells.length;h++)a.cells[h]=p(a.cells[h].replace(/^ *\| *| *\| *$/g,""),a.header.length);this.tokens.push(a)}else if(i=this.rules.lheading.exec(t))t=t.substring(i[0].length),this.tokens.push({type:"heading",depth:"="===i[2]?1:2,text:i[1]});else if(e&&(i=this.rules.paragraph.exec(t)))t=t.substring(i[0].length),this.tokens.push({type:"paragraph",text:"\n"===i[1].charAt(i[1].length-1)?i[1].slice(0,-1):i[1]});else if(i=this.rules.text.exec(t))t=t.substring(i[0].length),this.tokens.push({type:"text",text:i[0]});else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0));return this.tokens};var _={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:l,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(href(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,strong:/^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)|^__([^\s])__(?!_)|^\*\*([^\s])\*\*(?!\*)/,em:/^_([^\s][\s\S]*?[^\s_])_(?!_)|^_([^\s_][\s\S]*?[^\s])_(?!_)|^\*([^\s][\s\S]*?[^\s*])\*(?!\*)|^\*([^\s*][\s\S]*?[^\s])\*(?!\*)|^_([^\s_])_(?!_)|^\*([^\s*])\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`]?)\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:l,text:/^[\s\S]+?(?=[\\<!\[`*]|\b_| {2,}\n|$)/,_escapes:/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,_scheme:/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,_email:/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/};_.autolink=u(_.autolink).replace("scheme",_._scheme).replace("email",_._email).getRegex(),_._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,_.tag=u(_.tag).replace("comment",f._comment).replace("attribute",_._attribute).getRegex(),_._label=/(?:\[[^\[\]]*\]|\\[\[\]]?|`[^`]*`|[^\[\]\\])*?/,_._href=/\s*(<(?:\\[<>]?|[^\s<>\\])*>|(?:\\[()]?|\([^\s\x00-\x1f()\\]*\)|[^\s\x00-\x1f()\\])*?)/,_._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,_.link=u(_.link).replace("label",_._label).replace("href",_._href).replace("title",_._title).getRegex(),_.reflink=u(_.reflink).replace("label",_._label).getRegex(),_.normal=c({},_),_.pedantic=c({},_.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,link:u(/^!?\[(label)\]\((.*?)\)/).replace("label",_._label).getRegex(),reflink:u(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",_._label).getRegex()}),_.gfm=c({},_.normal,{escape:u(_.escape).replace("])","~|])").getRegex(),url:u(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("email",_._email).getRegex(),_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:u(_.text).replace("]|","~]|").replace("|","|https?://|ftp://|www\\.|[a-zA-Z0-9.!#$%&'*+/=?^_`{\\|}~-]+@|").getRegex()}),_.breaks=c({},_.gfm,{br:u(_.br).replace("{2,}","*").getRegex(),text:u(_.gfm.text).replace("{2,}","*").getRegex()}),n.rules=_,n.output=function(t,e,r){return new n(e,r).output(t)},n.prototype.output=function(t){for(var e,r,i,o,a,u="";t;)if(a=this.rules.escape.exec(t))t=t.substring(a[0].length),u+=a[1];else if(a=this.rules.autolink.exec(t))t=t.substring(a[0].length),"@"===a[2]?i="mailto:"+(r=s(this.mangle(a[1]))):i=r=s(a[1]),u+=this.renderer.link(i,null,r);else if(this.inLink||!(a=this.rules.url.exec(t))){if(a=this.rules.tag.exec(t))!this.inLink&&/^<a /i.test(a[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(a[0])&&(this.inLink=!1),t=t.substring(a[0].length),u+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(a[0]):s(a[0]):a[0];else if(a=this.rules.link.exec(t))t=t.substring(a[0].length),this.inLink=!0,i=a[2],this.options.pedantic?(e=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i))?(i=e[1],o=e[3]):o="":o=a[3]?a[3].slice(1,-1):"",i=i.trim().replace(/^<([\s\S]*)>$/,"$1"),u+=this.outputLink(a,{href:n.escapes(i),title:n.escapes(o)}),this.inLink=!1;else if((a=this.rules.reflink.exec(t))||(a=this.rules.nolink.exec(t))){if(t=t.substring(a[0].length),e=(a[2]||a[1]).replace(/\s+/g," "),!(e=this.links[e.toLowerCase()])||!e.href){u+=a[0].charAt(0),t=a[0].substring(1)+t;continue}this.inLink=!0,u+=this.outputLink(a,e),this.inLink=!1}else if(a=this.rules.strong.exec(t))t=t.substring(a[0].length),u+=this.renderer.strong(this.output(a[4]||a[3]||a[2]||a[1]));else if(a=this.rules.em.exec(t))t=t.substring(a[0].length),u+=this.renderer.em(this.output(a[6]||a[5]||a[4]||a[3]||a[2]||a[1]));else if(a=this.rules.code.exec(t))t=t.substring(a[0].length),u+=this.renderer.codespan(s(a[2].trim(),!0));else if(a=this.rules.br.exec(t))t=t.substring(a[0].length),u+=this.renderer.br();else if(a=this.rules.del.exec(t))t=t.substring(a[0].length),u+=this.renderer.del(this.output(a[1]));else if(a=this.rules.text.exec(t))t=t.substring(a[0].length),u+=this.renderer.text(s(this.smartypants(a[0])));else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0))}else a[0]=this.rules._backpedal.exec(a[0])[0],t=t.substring(a[0].length),"@"===a[2]?i="mailto:"+(r=s(a[0])):(r=s(a[0]),i="www."===a[1]?"http://"+r:r),u+=this.renderer.link(i,null,r);return u},n.escapes=function(t){return t?t.replace(n.rules._escapes,"$1"):t},n.prototype.outputLink=function(t,e){var n=e.href,r=e.title?s(e.title):null;return"!"===t[0].charAt(0)?this.renderer.image(n,r,s(t[1])):this.renderer.link(n,r,this.output(t[1]))},n.prototype.smartypants=function(t){return this.options.smartypants?t.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,""):t},n.prototype.mangle=function(t){if(!this.options.mangle)return t;for(var e,n="",r=t.length,i=0;i<r;i++)e=t.charCodeAt(i),.5<Math.random()&&(e="x"+e.toString(16)),n+="&#"+e+";";return n},r.prototype.code=function(t,e,n){if(this.options.highlight){var r=this.options.highlight(t,e);null!=r&&r!==t&&(n=!0,t=r)}return e?'<pre><code class="'+this.options.langPrefix+s(e,!0)+'">'+(n?t:s(t,!0))+"</code></pre>\n":"<pre><code>"+(n?t:s(t,!0))+"</code></pre>"},r.prototype.blockquote=function(t){return"<blockquote>\n"+t+"</blockquote>\n"},r.prototype.html=function(t){return t},r.prototype.heading=function(t,e,n){return this.options.headerIds?"<h"+e+' id="'+this.options.headerPrefix+n.toLowerCase().replace(/[^\w]+/g,"-")+'">'+t+"</h"+e+">\n":"<h"+e+">"+t+"</h"+e+">\n"},r.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},r.prototype.list=function(t,e,n){var r=e?"ol":"ul";return"<"+r+(e&&1!==n?' start="'+n+'"':"")+">\n"+t+"</"+r+">\n"},r.prototype.listitem=function(t){return"<li>"+t+"</li>\n"},r.prototype.checkbox=function(t){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},r.prototype.paragraph=function(t){return"<p>"+t+"</p>\n"},r.prototype.table=function(t,e){return e&&(e="<tbody>"+e+"</tbody>"),"<table>\n<thead>\n"+t+"</thead>\n"+e+"</table>\n"},r.prototype.tablerow=function(t){return"<tr>\n"+t+"</tr>\n"},r.prototype.tablecell=function(t,e){var n=e.header?"th":"td";return(e.align?"<"+n+' align="'+e.align+'">':"<"+n+">")+t+"</"+n+">\n"},r.prototype.strong=function(t){return"<strong>"+t+"</strong>"},r.prototype.em=function(t){return"<em>"+t+"</em>"},r.prototype.codespan=function(t){return"<code>"+t+"</code>"},r.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},r.prototype.del=function(t){return"<del>"+t+"</del>"},r.prototype.link=function(t,e,n){if(this.options.sanitize){try{var r=decodeURIComponent(a(t)).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return n}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return n}this.options.baseUrl&&!m.test(t)&&(t=h(this.options.baseUrl,t));try{t=encodeURI(t).replace(/%25/g,"%")}catch(e){return n}var i='<a href="'+s(t)+'"';return e&&(i+=' title="'+e+'"'),i+=">"+n+"</a>"},r.prototype.image=function(t,e,n){this.options.baseUrl&&!m.test(t)&&(t=h(this.options.baseUrl,t));var r='<img src="'+t+'" alt="'+n+'"';return e&&(r+=' title="'+e+'"'),r+=this.options.xhtml?"/>":">"},r.prototype.text=function(t){return t},i.prototype.strong=i.prototype.em=i.prototype.codespan=i.prototype.del=i.prototype.text=function(t){return t},i.prototype.link=i.prototype.image=function(t,e,n){return""+n},i.prototype.br=function(){return""},o.parse=function(t,e){return new o(e).parse(t)},o.prototype.parse=function(t){this.inline=new n(t.links,this.options),this.inlineText=new n(t.links,c({},this.options,{renderer:new i})),this.tokens=t.reverse();for(var e="";this.next();)e+=this.tok();return e},o.prototype.next=function(){return this.token=this.tokens.pop()},o.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},o.prototype.parseText=function(){for(var t=this.token.text;"text"===this.peek().type;)t+="\n"+this.next().text;return this.inline.output(t)},o.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,a(this.inlineText.output(this.token.text)));case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var t,e,n,r,i="",o="";for(n="",t=0;t<this.token.header.length;t++)n+=this.renderer.tablecell(this.inline.output(this.token.header[t]),{header:!0,align:this.token.align[t]});for(i+=this.renderer.tablerow(n),t=0;t<this.token.cells.length;t++){for(e=this.token.cells[t],n="",r=0;r<e.length;r++)n+=this.renderer.tablecell(this.inline.output(e[r]),{header:!1,align:this.token.align[r]});o+=this.renderer.tablerow(n)}return this.renderer.table(i,o);case"blockquote_start":for(o="";"blockquote_end"!==this.next().type;)o+=this.tok();return this.renderer.blockquote(o);case"list_start":o="";for(var s=this.token.ordered,u=this.token.start;"list_end"!==this.next().type;)o+=this.tok();return this.renderer.list(o,s,u);case"list_item_start":for(o="",this.token.task&&(o+=this.renderer.checkbox(this.token.checked));"list_item_end"!==this.next().type;)o+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(o);case"loose_item_start":for(o="";"list_item_end"!==this.next().type;)o+=this.tok();return this.renderer.listitem(o);case"html":return this.renderer.html(this.token.text);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}};var g={},m=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;l.exec=l,d.options=d.setOptions=function(t){return c(d.defaults,t),d},d.getDefaults=function(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:new r,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tables:!0,xhtml:!1}},d.defaults=d.getDefaults(),d.Parser=o,d.parser=o.parse,d.Renderer=r,d.TextRenderer=i,d.Lexer=e,d.lexer=e.lex,d.InlineLexer=n,d.inlineLexer=n.output,d.parse=d,t.exports=d}(this||"undefined"==typeof window||window)}).call(this,n(36))},function(t){var e=function(){return this}();try{e=e||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(e=window)}t.exports=e}]]);